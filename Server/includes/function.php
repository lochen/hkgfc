<?phpfunction get_ip(){      if (getenv('HTTP_CLIENT_IP')) {         $ip = getenv('HTTP_CLIENT_IP');      }      elseif (getenv('HTTP_X_FORWARDED_FOR')) {         $ip = getenv('HTTP_X_FORWARDED_FOR');      }      elseif (getenv('HTTP_X_FORWARDED')) {         $ip = getenv('HTTP_X_FORWARDED');      }      elseif (getenv('HTTP_FORWARDED_FOR')) {         $ip = getenv('HTTP_FORWARDED_FOR');      }      elseif (getenv('HTTP_FORWARDED')) {         $ip = getenv('HTTP_FORWARDED');      }      else {         $ip = $_SERVER['REMOTE_ADDR'];      }	  if(strstr($ip,","))$ip = substr($ip,0,strpos($ip,","));      return $ip;}function print_pre($array){	echo '<pre>';	print_r($array);	echo '</pre>';	}function implode_ids($data){	if(is_array($data))$data="'".implode("','",$data)."'";	else $data="'".$data."'";		return $data;}function datetime($time,$format='Y-m-d H:i:s',$timezone=0){	$time=$time+(3600*(int)$timezone);	return date($format,$time);}function isemail($email) {	return strlen($email) > 6 && preg_match("/^[\w\-\.]+@[\w\-\.]+(\.\w+)+$/", $email);}function file_perms($file, $octal = false){    if(!file_exists($file)) return false;    $perms = fileperms($file);    $cut = $octal ? 2 : 3;    return substr(decoct($perms), $cut);}function bytes_size($size,$floor=null) {	if($size<=0)return 0;	if($size >= 1073741824) {		$size = round($size / 1073741824 * 100) / 100;// . ' GB';		$type = 'GB';	} elseif($size >= 1048576) {		$size = round($size / 1048576 * 100) / 100;// . ' MB';		$type = 'MB';	} elseif($size >= 1024) {		$size = round($size / 1024 * 100) / 100;// . ' KB';		$type = 'KB';	} else {		$size = $size;// . ' bytes';		$type = 'bytes';	}	if($floor)return floor($size).$type;	return $size.$type;}function redirect($url){	header("Location: $url");	exit();}/*function set_alert_message($message,$type=""){	if($type!="")$type=" alert-".$type;	$_SESSION['alert_message']='<div class="alert'.$type.'"><button type="button" class="close" data-dismiss="alert">×</button>'.$message.'</div>';}function get_alert_message(){	//if($_SESSION['alert_message'])	echo $_SESSION['alert_message'];}function clear_alert_message(){	$_SESSION['alert_message']="";	unset($_SESSION['alert_message']);}*/function set_alert_message($message,$type='',$auto=''){	if($type!="")$type=" alert-".$type;	if($auto!=""){		$type.=" auto";		$auto=' data-time="'.$auto.'"';	}		$data['alert_message']['time']=time();	$data['alert_message']['content']='<div class="alert'.$type.'"'.$auto.'><button type="button" class="close" data-dismiss="alert">×</button>'.$message.'</div>';	setcookie("alert_message",serialize($data),time()+3600);}function get_alert_message(){	if($_COOKIE['alert_message']){		$data=unserialize($_COOKIE['alert_message']);		if((time()-$data['alert_message']['time'])<10){			return $data['alert_message']['content'];		}		else{			//unset($_SESSION['alert_message']);			setcookie("alert_message","",time()-3600);		}			}}function build_http($url){	if(!preg_match("/http:\/\//i",$url))$url="http://".$url;	return $url;}function build_list($data,$islink=false){	$list='<ul>';	foreach($data as $value){		if($islink)$value='<a href="'.build_http($value).'">'.$value.'</a>';		$list.='<li>'.$value.'</li>';	}	$list.='</ul>';	return $list;}?>